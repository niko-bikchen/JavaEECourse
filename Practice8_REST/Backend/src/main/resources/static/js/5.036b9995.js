(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"8b24":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",{attrs:{padding:""}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-md-6"},[o("q-card",{attrs:{flat:""}},[o("q-card-section",{staticClass:"text-center"},[o("span",{staticClass:"text-h5"},[t._v("ðŸ“™ Add a New Book ðŸ“—")])]),o("q-card-section",[o("q-form",{staticClass:"q-gutter-md",on:{submit:t.addBook}},[o("q-input",{attrs:{rules:t.validation.title,type:"text",label:"Title",outlined:"","lazy-rules":"",readonly:t.ajaxActive1},model:{value:t.book.title,callback:function(e){t.$set(t.book,"title",e)},expression:"book.title"}}),o("q-input",{attrs:{rules:t.validation.author,type:"text",label:"Author",outlined:"","lazy-rules":"",readonly:t.ajaxActive1},model:{value:t.book.author,callback:function(e){t.$set(t.book,"author",e)},expression:"book.author"}}),o("q-input",{attrs:{rules:t.validation.isbn,type:"text",label:"ISBN",outlined:"","lazy-rules":"",readonly:t.ajaxActive1},model:{value:t.book.isbn,callback:function(e){t.$set(t.book,"isbn",e)},expression:"book.isbn"}}),o("div",{staticClass:"text-center"},[o("q-btn",{staticClass:"bg-primary text-white",attrs:{type:"submit",label:"Submit",push:"",loading:t.ajaxActive1}})],1)],1)],1)],1)],1),o("div",{staticClass:"col-12 col-md-6"},[o("q-card",{attrs:{flat:""}},[o("q-card-section",{staticClass:"text-center"},[o("span",{staticClass:"text-h5"},[t._v("\n            Search books\n          ")])]),o("q-card-section",[o("q-form",{staticClass:"q-gutter-md",on:{submit:t.searchBooks}},[o("q-input",{attrs:{rules:t.validation.notEmpty,label:"Search input",outlined:"",readonly:t.ajaxActive},model:{value:t.filter.filterInput,callback:function(e){t.$set(t.filter,"filterInput",e)},expression:"filter.filterInput"}}),o("q-select",{attrs:{options:t.filterOptions,rules:t.validation.notEmpty,label:"Search criteria",outlined:"",readonly:t.ajaxActive},model:{value:t.filter.filterCriteria,callback:function(e){t.$set(t.filter,"filterCriteria",e)},expression:"filter.filterCriteria"}}),o("div",{staticClass:"text-center"},[o("q-btn",{staticClass:"bg-primary text-white",attrs:{type:"submit",label:"Submit",push:"",loading:t.ajaxActive}})],1)],1)],1)],1),o("q-dialog",{model:{value:t.showResult,callback:function(e){t.showResult=e},expression:"showResult"}},[o("q-card",[o("q-card-section",{staticClass:"row items-center q-pb-none"},[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),o("q-card-section",[o("q-table",{attrs:{columns:t.columns,data:t.search,title:"ðŸ“š Search results ðŸ“š","row-key":"isbn"}})],1)],1)],1)],1)]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-12"},[o("div",{staticClass:"q-my-xl"},[o("q-table",{attrs:{columns:t.columns,data:t.books,title:"ðŸ“š Available books ðŸ“š","row-key":"isbn"}})],1)])])])},s=[],a=o("4db1"),n=o.n(a),r=(o("386d"),{data:function(){return{icons:{}}},methods:{notifySuccess:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;this.$q.notify({color:"green-5",textColor:"white",icon:this.icons.checkSolid,message:t,position:"top",progress:!0,timeout:e})},notifyError:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;this.$q.notify({color:"red-5",textColor:"white",icon:this.icons.exclamationTriangleSolid,message:t,position:"top",progress:!0,timeout:e})}},created:function(){var t=this.$store.getters["books/getIcons"];this.icons.checkSolid=t.checkSolid,this.icons.exclamationTriangleSolid=t.exclamationTriangleSolid}}),l=r,c={name:"Index",mixins:[l],data:function(){return{showResult:!1,ajaxActive:!1,ajaxActive1:!1,validation:{author:[function(t){return/^[a-zA-Z]+ [a-zA-Z]+$/.test(t)||"Author name should consist of two words separated by a whitespace. Author name cannot contain any symbols or numbers"}],title:[function(t){return""!==t||"Book title cannot be empty"}],isbn:[function(t){return/^[0-9]+$/.test(t)||"ISBN can contain numbers only"},function(t){return""!==t||"ISBN cannot be empty"}],notEmpty:[function(t){return""!==t||"Field cannot be empty"}]},book:{title:"",author:"",isbn:""},search:[],filter:{filterInput:"",filterCriteria:""},columns:[{name:"title",required:!0,align:"left",label:"Book title",field:function(t){return t.title},sortable:!0},{name:"author",required:!0,align:"left",label:"Book author",field:function(t){return t.author},sortable:!0},{name:"isbn",required:!0,align:"left",label:"Book ISBN",field:function(t){return t.isbn},sortable:!0}],filterOptions:["title","isbn"]}},computed:{books:function(){return this.$store.getters["books/getBooks"]}},methods:{addBook:function(){var t=this;this.ajaxActive1=!0,this.$store.dispatch("books/addBook",this.book).then((function(e){t.ajaxActive1=!1,200===e.status?t.notifySuccess(e.message):t.notifyError(e.message)})).catch((function(e){t.ajaxActive1=!1,t.notifyError(e.message)}))},searchBooks:function(){var t=this;this.ajaxActive=!0,this.$store.dispatch("books/filterBooks",this.filter).then((function(e){t.ajaxActive=!1,200===e.status?(t.notifySuccess(e.message),t.search=n()(e.books),t.showResult=!0):t.notifyError(e.message)})).catch((function(e){t.ajaxActive=!1,t.notifyError(e.message)}))}},created:function(){var t=this;this.$store.dispatch("books/getAllBooks").then((function(e){200===e.status?t.notifySuccess(e.message):t.notifyError(e.message)})).catch((function(e){t.notifyError(e.message)}))}},u=c,d=o("2877"),b=Object(d["a"])(u,i,s,!1,null,null,null);e["default"]=b.exports}}]);